var tipuesearch = {"pages":[{"title":"Utlisation des donn√©es de Spotify pour pr√©dire quelle musique va √™tre hit (partie 1)","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ Des milliers de musiques voient le jour tous les ans dans le monde. Certaines connaissent de vrais succ√®s dans l'industrie musicale ; d'autres moins. Il est un fait que r√©ussir dans cette industrie demeure une t√¢che difficile. Investir dans la production d'une chanson requiert des activit√©s diversifi√©es et peuvent consommer beaucoup de ressources. Il n'y a que tr√®s peu de labels de musiques qui financent des √©tudes pour savoir dans quelle mesure la chanson qu'ils sont sur le point de publier pourrait √™tre un ¬´ hit musical ¬ª . Ma curiosit√© √† propos de la musique m'a pouss√© √† consacrer un peu de temps √† l'√©tude du sujet. Pour beaucoup de personnes, le secret de Drake dans la fabrication de ses hits musicaux ces derni√®res ann√©es r√©side dans son style en tant qu'artiste ; pour d'autre, c'est √† sa notori√©t√© qu'il le doit principalement. De mani√®re g√©n√©rale, les avis ne vont pas que dans un sens d√®s qu'il est question d'expliquer pourquoi une musique est hit, mais pas une autre ; ou encore ce qu'un artiste devrait prioriser dans la production d'une musique s'il veut que cette derni√®re soit un ¬´ hit ¬ª. Cet article biparti constitue une photographie du projet sur lequel j'ai travaill√© ces derni√®res semaines. J'ai utilis√© des techniques de data science afin de comprendre ce qui caract√©rise une chanson populaire, et plus pr√©cis√©ment comment il serait possible de pr√©dire la popularit√© d'une chanson en me basant uniquement sur ses caract√©ristiques d'audio et sur le profil de l'artiste. J'ai construit un mod√®le-classeur de machine learning pouvant classer une chanson en hit ou non-hit. Bien que des facteurs sociaux comme le contexte dans lequel la chanson a √©t√© diffus√©e, la d√©mographie de ses auditeurs et l'effectivit√© de sa campagne de marketing peuvent tout aussi bien jouer un r√¥le important dans sa viralit√©, j'ai √©mis l'hypoth√®se que les caract√©ristiques inh√©rentes √† une chanson, tels que le profil de l'artiste qui l'interpr√®te, sa dur√©e, ses caract√©ristiques d'audio peuvent √™tre corr√©l√©s et √©galement r√©v√©lateur de sa viralit√©. Mes donn√©es Je n'ai pas pu disposer d'un dataset venant d'une seule et unique source qui comporterait toutes les variables. Pour pallier √† ce probl√®me, J'ai recouru aux techniques de ¬´ data enrichment ¬ª avec les trois sources de donn√©es suivantes : Billboard, Spotify et Genius. En premier lieu, j'ai fait usage de web scrapping, avec le package BeautifulSoup, pour recueillir les musiques les plus populaires de Billboard Year-End Hot 100 datant de 2010 √† 2019, √† raison de 100 musiques par ann√©e. Ensuite, le package Spotipy a √©t√© utilis√© pour la r√©cup√©ration des donn√©es relatives aux caract√©ristiques d'audio des musiques tels que dansabilit√©, instrumentalit√©, vivacit√©, etc., d'une part ; et, d'autre part, celles li√©es au profil de l'artiste comme nombre de followers, popularit√©, etc. √† la fois des musiques hits r√©cup√©r√©es pr√©c√©demment et d'autres musiques non-hits de la m√™me p√©riode. Et enfin, Genius sera utilis√© principalement pour la r√©cup√©ration des paroles de toutes les musiques que nous avons recueillies. Une musique de notre dataset est consid√©r√©e comme un ¬´ hit ¬ª si elle a fait partie du classement du Billboard Year-End Hot 100 au moins une fois pendant l'une des ann√©es sur la p√©riode consid√©r√©e. En d'autres termes, notre mod√®le a eu pour mission de pr√©dire si une chanson ferait partie de la liste des 100 musiques les plus populaires de Billboard ou non. Outils utilis√©s : Le package spotipy pour acc√©der aux donn√©es de la plateforme musicale de Spotify seaborn et matplotlib pour la visualisation des donn√©es pandas et numpy pour l'analyse des donn√©es LightGBM et la librairie scikit-learn pour la construction et l'√©valuation du mod√®le Les variables Spotify est l'une des plus grandes plateformes de streaming dans le monde. A l'instar de Twitter ou Facebook, elle fournit une API (Application Programming Interface) pour que les d√©veloppeurs puissent interagir avec son immense base de donn√©es musicale. Via des endpoints de cet API, j'ai pu r√©colter des donn√©es pour plus de 22 000 chansons; chaque chanson √©tant caracteris√©e par environ une vingtaine de variables. Les variables retourn√©es par l'API sont aussi riches en information que vari√©es. Toutefois, j'ai selectionn√© uniquement celles qui sont jug√©es pertinentes pour le travail. Ensuite, elles ont √©t√© transform√©es via les techniques de ¬´feature engineering ¬ª afin de pr√©parer le jeu de donn√©es au mieux pour l'entra√Ænement du mod√®le. Vous trouverez la description de chacune des variables utilis√©es ici . De mani√®re g√©n√©rale, les codes complets du projet sont accessibles √† travers ce lien. Certaines de ces variables sont utilis√©es uniquement pour l'analyse, d'autres participent √† toutes les √©tapes du pipeline. A pr√©sent, jetons un coup d'≈ìil sur la dimension de notre jeu de donn√©es. In [2]: df . shape Out[2]: (19182, 24) Apr√®s avoir choisi les variables disponibles jug√©es pertinentes pour le mod√®le, supprim√© les observations contenant des valeurs manquantes et les duplications, notre jeu est r√©duit √† 19 120 observations contenant 24 variables chacune. Les 5 premi√®res observations de notre jeu sont les suivantes: In [3]: df . head ( n = 5 ) Out[3]: .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; } nom_artiste pop_artiste tot_followers nom_chanson marche_disp date_sortie pop_chanson acoustique dansabilite duree ... eloquence tempo time_signature valence hit featuring search mois_sortie jour_sortie jour_sem_sortie 0 Kesha 81 5470072 TiK ToK 79 2010-01-01 79 0.09910 0.755 199693 ... 0.1420 120.028 4 0.714 1 0 Kesha TiK ToK 1 1 4 1 Lady Antebellum 74 2933375 Need You Now 78 2010-01-01 69 0.09270 0.587 277573 ... 0.0303 107.943 4 0.231 1 0 Lady Antebellum Need You Now 1 1 4 2 Train 77 3249275 Hey, Soul Sister 79 2010-12-01 82 0.18500 0.673 216773 ... 0.0431 97.012 4 0.795 1 0 Train Hey, Soul Sister 12 1 2 3 Katy Perry 87 15347727 California Gurls 79 2012-03-12 72 0.00446 0.791 234653 ... 0.0569 125.014 4 0.425 1 0 Katy Perry California Gurls 3 12 0 4 Usher 82 7654666 OMG (feat. will.i.am) 79 2010-03-30 71 0.19800 0.781 269493 ... 0.0332 129.998 4 0.326 1 1 Usher OMG (feat. will.i.am) 3 30 1 5 rows √ó 24 columns Visualisation des donn√©es Avant de construire le mod√®le, j'ai voulu explorer les donn√©es un peu via des visualisations, quoique le but premier du travail ne f√ªt pas de mener une analyse exploratoire compl√®te. A la lumi√®re du graphique ci-dessus, janvier est le mois durant lequel plus de musiques hits sont sorties; juillet √©tant le mois le moins sollicit√©. Nous remarquons aussi que la majorit√© des hits de la p√©riode sont sortis le 4√®me jour de la semaine; soit jeudi. Enfin le premier jour du mois est largement plus utilis√© pour publier une chanson. Fort de ce constat, Nous pourrions d√©duire que publier une chanson le premier janvier, c'est probablement un pas vers l'optimisation des chances de sa viralit√©. On doit tout de m√™me √™tre prudent: corr√©lation n'est pas causalit√©. Il faudrait pousser notre analyse plus en profondeur afin d'√™tre plus pr√©cis dans cette conclusion. J'ai poursuivi la visualisation en voulant avoir une id√©e des artistes ayant enregistr√© le plus de morceaux hits sur la p√©riode. Sans surprise aucune, le graphique ci-dessous montre que les artistes comme Drake, Rihanna et Taylor Swift ont enregistr√© plus de musiques hits que quiconque autre artiste sur la p√©riode. Ceci √©tant dit, il est plausible de croire qu'une chanson a plus de chances d'√™tre virale si elle contient la voix de l'un de ces artistes. Pour comprendre ce qui fait qu'une musique est hit ; et non une autre, il est imp√©ratif d'√©tudier les variables relatives √† l'audio des deux cat√©gories. C'est ainsi que j'ai voulu avoir une id√©e sur la distribution de ces variables au regard des deux cat√©gories. Les variables pr√©dominantes au sein des deux cat√©gories sont les m√™mes : √©nergie, dansabilit√© et valence. La seule diff√©rence est que les valeurs moyenn√©es de ces variables sont plus √©lev√©es pour la cat√©gorie des chansons hits. Ceci atteste que les musiques hits sont plus rapides et sonores. Elles sont plus adapt√©es √† la danse et sont plus enclines √† inspirer la joie, la gait√©, l'euphorie. L'approche machine learning Jusque-l√†, nous avons pu d√©couvrir quelques insights int√©ressants √† propos des donn√©es. Afin d'√©courter cet article, passons directement √† la partie concernant l'algorithme de machine learning qui a √©t√© utilis√©. Je voulais construire un mod√®le afin de pr√©dire la classe, hit ou non-hit, qu'une musique est la plus susceptible d'appartenir en me basant sur un ensemble de variables explicatives, comme expliqu√© au d√©but de cet article. A l'√©tat brut, les donn√©es recueillies n'√©taient pas pr√™tes pour l'entrainement d'un mod√®le de machine learning. Je les ai donc trait√©es ; d'abord, en me servant de la technique SMOTE, car la classe des musiques hits √©tait sous-repr√©sent√©e par rapport √† la cat√©gorie non-hit, ensuite des autres techniques de ¬´feature engineering ¬ª dans le but de normaliser les donn√©es. Par ailleurs, j'ai voulu un mod√®le qui soit le plus performant possible. Pour cela, j'ai entrain√© plusieurs algorithmes et comparer les r√©sultats sur la base des crit√®res d'√©valuation retenus. Il s'est av√©r√© que l'algorithme de classification de LightGBM est celui qui, au moment de l'entrainement, a mieux d√©tect√© les patterns entre les variables explicatives et la variable √† pr√©dire (hit). In [ ]: %%capture % matplotlib inline import lightgbm as lgb from sklearn.metrics import auc , accuracy_score , roc_auc_score , roc_curve , confusion_matrix from imblearn.over_sampling import SMOTE from sklearn.model_selection import train_test_split sm = SMOTE ( random_state = 42 ) X = df [[ 'acoustique' , 'dansabilite' , 'energie' , 'instrumentalite' , 'vivacite' , 'intensite' , 'eloquence' , 'valence' , 'tempo' , 'duree' ]] y = df [ 'hit' ] # Fractionnement du dataset en deux sous-jeux: un pour l'entrainement et l'autre pour tester X_train , X_test , y_train , y_test = train_test_split ( X , y , test_size = 0.30 , random_state = 20 ) #sur√©chantillonnage des donn√©es X_res , y_res = sm . fit_resample ( X_train , y_train ) # Param√®tres optimis√©s via GridSearch clf = lgb . LGBMClassifier ( boosting_type = 'gbdt' , class_weight = None , colsample_bytree = 1.0 , importance_type = 'split' , learning_rate = 0.2 , max_depth =- 1 , min_child_samples = 20 , min_child_weight = 0.001 , min_split_gain = 0.0 , n_estimators = 90 , n_jobs =- 1 , num_leaves = 31 , objective = None , random_state = None , reg_alpha = 0.0 , reg_lambda = 0.0 , silent = True , subsample = 1.0 , subsample_for_bin = 200000 , subsample_freq = 0 ) clf . fit ( X_res , y_res ) Matrice de confusion Pour un premier niveau d'analyse de la performance du mod√®le, nous allons utiliser la matrice de confusion. La visualisation de la matrice de confusion nous permettra de comprendre les erreurs commises par notre mod√®le-classeur par rapport au sous-jeu de test Cette matrice mesure la qualit√© d'un syst√®me de classification. Dans le cadre d'une classification binaire, le diagonal principal repr√©sente les observations class√©es correctement par le mod√®le; et le diagonal secondaire, celles class√©es incorrectement. De ce fait, l'erreur la plus fr√©quente commise par le mod√®le est d'avoir class√© une chanson en tant que non-hit alors qu'en r√©alit√© elle √©tait hit (129 cas), l'erreur de type II plus pr√©cis√©ment. L'erreur de type I consiste en ce que le mod√®le classe une musique comme hit alors qu'elle est non-hit (faux hit); et l'erreur de type II, l'inverse; c'est-√†-dire le cas o√π il classe une musique comme non-hit pourtant elle est hit (faux non-hit). Si nous essayons de comprendre la psychologie d'un producteur de musiques, l'erreur de type I est moins acceptable que celle de type II. Nous ne voudrions pas consentir toutes les d√©penses li√©es √† la production et la promotion d'une musique qu'un mod√®le a pr√©dite hit pour que finalement elle ne le soit pas. La valeur de l'erreur de type I devrait √™tre minimale. Le rapport de classification Le rapport de classification pr√©sente des statistiques calcul√©es √† partir des donn√©es de la matrice de confusion. Chaque m√©trique d√©crit un aspect diff√©rent de la classification. Nous allons nous servir de ce rapport pour un deuxi√®me niveau d'analyse de la performance du mod√®le. In [15]: from sklearn.metrics import classification_report print ( classification_report ( y_test , y_pred , target_names = [ 'non-hit' , 'hit' ])) precision recall f1-score support non-hit 0.98 0.98 0.98 5484 hit 0.55 0.52 0.54 271 accuracy 0.96 5755 macro avg 0.77 0.75 0.76 5755 weighted avg 0.96 0.96 0.96 5755 L' ¬´ accuracy ¬ª, qui mesure globalement le pourcentage de classification correcte effectu√© par le mod√®le, est de 96%. Vu que le sous-jeu de test est d√©s√©quilibr√©, ce pourcentage est √©tir√© par la classe surrepr√©sent√©e, en l'occurrence la classe non-hit. Cette m√©trique n'est donc pas la meilleure que nous pourrions utiliser. Le ¬´ recall ¬ª (sensibilit√©) mesure le pourcentage d'occurrences class√©es correctement par le mod√®le pour chaque classe. Une classification est correcte lorsque la classe pr√©dite correspond √† la classe r√©elle. D'une part, parmi les 5 484 musiques de classe non-hit que nous avons utilis√©es pour tester le mod√®le, 98% ont √©t√© class√©es correctement. D'autre part, l'algorithme a class√© correctement seulement 52% des 271 musiques de classe hit que nous lui avons soumises. Vous l'aurez compris : il est plus difficile pour l'algorithme de classer une musique hit comme hit (vrai hit) que de classer une musique non-hit comme non-hit (vrai non-hit). Les niveaux de pr√©cision pour les classes non-hit et hit sont respectivement de 0.98 et 0.55. Cela traduit que 98% de toutes les musiques que le mod√®le a class√© comme non-hits sont en effet non-hits; et, seulement 55% des musiques qu'il a pr√©dites hits le sont vraiment. Constat : Notre mod√®le r√©agit mieux d√®s qu'il s'agit de musiques non-hits. Cela est fort probablement d√ª au fait que d√®s le d√©part cette classe comptait beaucoup plus de donn√©es. La d√©tection de pattern entre la modalit√© non-hit de la variable d√©pendante et les autres variables explicatives est peut-√™tre favoris√©e √† cause de cela. Une fois satisfait de la performance du mod√®le, je me suis r√©solu √† comprendre les variables explicatives les plus influentes dans la d√©termination de la classe d'une chanson donn√©e. C'est pourquoi j'ai eu recours au graphique d'importance ci-dessous. Nous pouvons voir que la popularit√© d'une chanson sur Spotify est la variable la plus importante dans le processus de pr√©diction de la classe qu'elle est la plus susceptible d'appartenir. Ensuite, la popularit√© de l'artiste sur Spotify, le nombre de followers que ce dernier poss√®de et le nombre de march√©s sur lequel la musique est disponible constituent une deuxi√®me vague de variables d√©terminantes dans le processus. Enfin viennent principalement les variables li√©es √† l'audio des chansons avec un niveau d'influence relativement proche. Cette analyse attire l'attention sur quelque chose de majeur. Essentiellement, une musique est ¬´ hit ¬ª si elle est populaire sur Spotify, est interpr√©t√©e par un artiste lui-m√™me populaire sur Spotify et poss√®de un nombre important de followers, et enfin, si elle est disponible dans le plus grand nombre de pays √† travers le monde. Cette conclusion semble logique, mais elle est aussi v√©rifi√©e empiriquement par notre mod√®le. Pour mieux appr√©cier la pertinence de cette conclusion, il faut garder √† l'esprit que le palmar√®s des 100 musiques les plus populaires de Billboard est bas√© principalement sur un aspect commercial. En effet, ce palmar√®s est le reflet fid√®le des ventes physiques et digitales, l'√©coute √† la radio et le streaming des musiques aux Etats-Unis ; toutes des activit√©s g√©n√©ratrices de revenu, directement ou indirectement. Une musique est d'autant plus √©cout√©e en ligne qu'elle est populaire sur Spotify; plus de streams traduit plus de revenus g√©n√©r√©s car apr√®s chaque morceau √©cout√© par un abonn√©, les plateformes de streaming reversent une somme √† l'artiste. La popularit√© de l'artiste sur Spotify et le nombre de followers qu'il y poss√®de constituent des canaux qui amplifient le nombre de streams et de ventes, ce qui va ensuite contribuer √† grossir le revenu g√©n√©r√© par ses musiques. Plus la musique g√©n√®re de revenus, plus elle a de chances de faire partie du palmar√®s des 100 musiques les plus populaires de Billboard en fin d'ann√©e; donc plus elle a aussi de chances d'√™tre class√©e hit par notre mod√®le car les variables qui d√©terminent principalement le niveau de revenu de la musique sont les plus influentes dans le processus de classfication d'apr√®s notre graphique d'importance (logique, non üòâ?). G√©n√©ralement, une musique poss√®de une autre caract√©ristique importante que nous n'avons pas encore prise en compte: les paroles. Pouvons-nous augmenter davantage la performance du mod√®le en nous servant des lyriques? C'est ce que nous allons explorer dans la deuxi√®me partie de l'article. if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" linebreaks: { automatic: true, width: '95% container' }, \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Machine Learning","url":"https://jbobym.github.io/Utlisation_des_donn√©es_de_spotify_pour_pr√©dire_quelle_musique_va_√™tre_hit","loc":"https://jbobym.github.io/Utlisation_des_donn√©es_de_spotify_pour_pr√©dire_quelle_musique_va_√™tre_hit"}]};